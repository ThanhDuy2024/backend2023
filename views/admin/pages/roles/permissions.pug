extends ../../layouts/default.pug

block main 
    if(role.permissions.includes("role-page_views"))
        h1 Phân quyền 
        div(class="text-right") 
            button(type="submit" class="btn btn-primary mb-3" button-submit) Cập nhật

        div(data-records=roles)
        table(class="table table-hover table-sm" table-permissions)
            thead
                tr 
                    th Các quyền
                    each item in roles 
                        th(class="text-center") #{item.title}
            tbody
                tr(data-name="id" style="display: none")
                    td 
                    each item in roles 
                        td(class="text-center")
                            input(class="text-center" value=`${item._id}`) 
                tr()
                    td(style="width: 300px") 
                        b Danh mục sản phẩm
                tr(data-name="product-category_view")
                    td(style="width: 300px") Xem danh mục sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="product-category_create")
                    td Tạo danh mục sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="product-category_edit")
                    td Sửa danh mục sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="product-category_delete")
                    td Xóa danh mục sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                
                tr()
                    td(style="width: 300px") 
                        b Sản phẩm
                tr(data-name="products_view")
                    td(style="width: 300px") Xem sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_create")
                    td Tạo sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_edit")
                    td Sửa sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_delete")
                    td Xóa sản phẩm
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")

                tr()
                    td(style="width: 300px") 
                        b Nhóm quyền
                tr(data-name="roles_view")
                    td(style="width: 300px") Xem nhóm quyền
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_create")
                    td Tạo nhóm quyền
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_edit")
                    td Sửa nhóm quyền 
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_delete")
                    td Xóa nhóm quyền
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_permissions")
                    td Phân quyền
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                
                tr()
                    td(style="width: 300px") 
                        b Trang Phân Quyền
                tr(data-name="role-page_views")
                    td(style="width: 300px") Xem trang phân quyền
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                
                //- Thêm phần tài khoản

                tr()
                    td(style="width: 300px") 
                        b Trang tài khoản 
                tr(data-name="account_view")
                    td(style="width: 300px") Xem trang tài khoản
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="account_create")
                    td Tạo tài khoản 
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="account_edit")
                    td Sửa tài khoản 
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="account_delete")
                    td Xóa tài khoản
                    each item in roles 
                        td(class="text-center")
                            input(type="checkbox")
        form(method="POST" action=`${prefixAdmin}/roles/permissions?_method=PATCH` id="form-change-permissions" form-change-permissions)
            input(type="hidden" name="permissions" id="permissions" class="form-control" input-permissions)
        script(src="/admin/js/roles.js")
    else 
        h1 Bạn không có quyền truy cập trang này